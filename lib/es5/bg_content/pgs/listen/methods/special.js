"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createMediaElement=exports.createCustomControls=void 0;var _methods=require("../../../../global/methods");const createCustomControls=mediaEl=>{let ctrlCont=(0,_methods.createElement)({className:"mediaControls"});let playBtn=(0,_methods.createElement)({element:'i',className:'fas fa-play'});playBtn.addEventListener("click",()=>{playBtn.className=playBtn.className==="fas fa-play"?"fas fa-pause":"fas fa-play";if(mediaEl.paused)mediaEl.play();else mediaEl.pause();});var durationMin=Math.floor(mediaEl.duration/60);var durationSec=Math.floor(mediaEl.duration-durationMin*60);var durationSecStr=durationSec<10?"0".concat(durationSec):"".concat(durationSec);let timeStamp=(0,_methods.createTextElement)({element:"span",text:"0:00/".concat(durationMin,":").concat(durationSecStr)});mediaEl.addEventListener("timeupdate",()=>{let min=Math.floor(mediaEl.currentTime/60);let seconds=Math.floor(mediaEl.currentTime-min*60);let secondsStr=seconds<10?"0".concat(seconds):"".concat(seconds);timeStamp.innerHTML="".concat(min,":").concat(secondsStr,"/").concat(durationMin,":").concat(durationSecStr);progressBar.value=Math.floor(mediaEl.currentTime);});let progressBar=(0,_methods.createElement)({element:"progress",className:"progressBar"});progressBar.value=0;progressBar.max=Math.ceil(mediaEl.duration);let muteBtn=(0,_methods.createElement)({element:'i',className:'fas fa-volume-up'});muteBtn.addEventListener("click",()=>{muteBtn.className=muteBtn.className==="fas fa-volume-up"?"fas fa-volume-mute":"fas fa-volume-up";mediaEl.muted=mediaEl.muted?false:true;});ctrlCont.appendChild(playBtn);ctrlCont.appendChild(timeStamp);ctrlCont.appendChild(progressBar);ctrlCont.appendChild(muteBtn);return ctrlCont;};exports.createCustomControls=createCustomControls;const createMediaElement=mediaEl=>{let el;let tag=mediaEl.image?"audio":"video";el=(0,_methods.createElement)({element:"".concat(tag),className:"mediaTag",idName:"".concat(tag,"Tag")});if(mediaEl.poster)el.setAttribute("poster",mediaEl.poster);mediaEl.controls?el.setAttribute('controls',''):"";let source=document.createElement('source');source.setAttribute("src",mediaEl.source.src);source.setAttribute("type",mediaEl.source.type);return el;};exports.createMediaElement=createMediaElement;