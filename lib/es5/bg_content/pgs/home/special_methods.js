"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.storeCurrentImage=exports.displayImagePost=void 0;var _methods=require("../../../global/methods");let imgPostArray=[];const storeCurrentImage=(image,data)=>{imgPostArray.push({img:image,postData:data});};exports.storeCurrentImage=storeCurrentImage;const displayImagePost=(img,postData)=>{let imgPostBackdrop=(0,_methods.createElement)({idName:"postBackdrop"});let imgPostCont=(0,_methods.createElement)({className:"imgPostCont"});let imgCont=(0,_methods.createElement)({className:"imgCont"});imgCont.appendChild(img);let postCont=createPostCont(postData);let exitButton=(0,_methods.createElement)({element:"i",className:"fas fa-times"});exitButton.addEventListener("click",()=>{imgPostBackdrop.remove();imgPostCont.remove();});imgPostCont.appendChild(imgCont);imgPostCont.appendChild(postCont);imgPostCont.appendChild(exitButton);let width=img.width;let height=img.height;imgPostCont.style.marginTop=-(height>320?height/2:160)+"px";imgPostCont.style.marginLeft=-(width>320?width:320)+"px";imgPostCont.style.height=(height>320?height:320)+"px";imgPostCont.style.width=(width>320?width*2:640)+"px";document.body.appendChild(imgPostBackdrop);document.body.appendChild(imgPostCont);};exports.displayImagePost=displayImagePost;const createPostCont=postData=>{let currentPostIndex=imgPostArray.findIndex(currPost=>currPost.postData.header===postData.header);let postCont=(0,_methods.createElement)({className:"postCont"});let leftArrowCont=(0,_methods.createElement)({className:"arrowCont",idName:"leftArrowCont"});let leftArrow=(0,_methods.createElement)({element:"i",className:"fas fa-chevron-left"});if(currentPostIndex>0){leftArrow.addEventListener("click",()=>{let clickEvent=new Event("click");let exitButton=postCont.nextElementSibling;exitButton.dispatchEvent(clickEvent);currentPostIndex--;displayImagePost(imgPostArray[currentPostIndex].img,imgPostArray[currentPostIndex].postData);});}leftArrowCont.appendChild(leftArrow);let postCardCont=postCard(postData);let rightArrowCont=(0,_methods.createElement)({className:"arrowCont",idName:"rightArrowCont"});let rightArrow=(0,_methods.createElement)({element:"i",className:"fas fa-chevron-right"});if(currentPostIndex<imgPostArray.length-1){rightArrow.addEventListener("click",()=>{let clickEvent=new Event("click");let exitButton=postCont.nextElementSibling;exitButton.dispatchEvent(clickEvent);currentPostIndex++;displayImagePost(imgPostArray[currentPostIndex].img,imgPostArray[currentPostIndex].postData);});}rightArrowCont.appendChild(rightArrow);postCont.appendChild(leftArrowCont);postCont.appendChild(postCardCont);postCont.appendChild(rightArrowCont);return postCont;};const postCard=postData=>{let cont=(0,_methods.createElement)({className:"postDataCont"});let header=postData.header;let content=postData.content;let headerCont=(0,_methods.createTextElement)({element:"h3",text:header,idName:"postCardHeader"});let hr=(0,_methods.createElement)({element:"hr",idName:"postCardHr"});let contentCont=(0,_methods.createTextElement)({text:content,idName:"postCardContent"});cont.appendChild(headerCont);cont.appendChild(hr);cont.appendChild(contentCont);return cont;};