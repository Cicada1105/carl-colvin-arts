"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadListenPreview=exports.loadRows=void 0;var _methods=require("../../../global/methods");var _special_methods=require("./special_methods");var _data=require("./data");let isHomePage=window.location.pathname.includes('index');const IMAGE_DIR=isHomePage?'./resources/about_imgs/':'../resources/about_imgs/';const MEDIA_DIR=isHomePage?'./resources/media/':'../resources/media/';const loadRows=()=>{let currBox;let currImg;_data.Rows.forEach((row,i)=>{currBox=(0,_special_methods.infoBox)(row.infoData);currImg=(0,_special_methods.imgCont)(row.imgData);let dataRow=(0,_methods.createElement)({className:'row'});if(i%2==0){currBox.setAttribute('id','left');currImg.setAttribute('id','right');}else{currImg.setAttribute('id','left');currBox.setAttribute('id','right');}dataRow.appendChild(currBox);dataRow.appendChild(currImg);document.body.appendChild(dataRow);});};exports.loadRows=loadRows;const loadListenPreview=()=>{let cont=(0,_methods.createElement)({idName:"listenImageCont"});let listenImg=(0,_methods.createImageElement)({src:"".concat(IMAGE_DIR,"kao_ra_zen_album_cover.jpg"),alt:"Kao Rao Zen Album Cover",idName:"listenImage"});listenImg.addEventListener('click',()=>{volumeIcon.className=volumeIcon.className.indexOf("up")>=0?'fas fa-volume-mute':'fas fa-volume-up';if(audioEl.paused)audioEl.play();else audioEl.pause();});let audioEl=(0,_methods.createElement)({element:'audio',idName:'audioExcerpt'});audioEl.setAttribute('controls','');let audioSrc=document.createElement('source');audioSrc.setAttribute('src',"".concat(MEDIA_DIR,"kenya-lifestream.wav"));audioSrc.setAttribute('type','audio/wav');audioEl.appendChild(audioSrc);audioEl.currentTime=108;audioEl.ontimeupdate=()=>{if(audioEl.currentTime>=161){audioEl.currentTime=108;audioEl.pause();}};let volumeIcon=(0,_methods.createElement)({element:'i',className:'fas fa-volume-mute'});volumeIcon.addEventListener('click',()=>{volumeIcon.className=volumeIcon.className.indexOf("up")>=0?'fas fa-volume-mute':'fas fa-volume-up';if(audioEl.paused)audioEl.play();else audioEl.pause();});cont.appendChild(listenImg);cont.appendChild(volumeIcon);let listenEl=document.getElementsByClassName('row')[1].firstChild;listenEl.appendChild(cont);};exports.loadListenPreview=loadListenPreview;