"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createLiteratureRow=void 0;var _static=require("../data/static");var _static2=require("../../shared/data/static");var _create=require("./create");var _methods=require("../../../../../../../global/methods");var _event_handlers=require("./event_handlers");const createLiteratureRow=()=>{let litOptions=[];_static.literatureRatesSelections.forEach(litSelection=>{litOptions.push(litSelection.literatureType);});let childElement=null;const childRowCallback=childPos=>{childElement=createGenreRow(_static.literatureRatesSelections[childPos].child);literatureRow.appendChild(childElement);};let selectCont=(0,_create.createSelectCont)({id:"literature",data:{options:litOptions}},_event_handlers.LiteratureTypeHandler.bind(childRowCallback));let literatureRow=(0,_create.createInputRow)({label:_static2.LABELS[0],content:selectCont});return literatureRow;};exports.createLiteratureRow=createLiteratureRow;const createGenreRow=genreData=>{let childElement=null;const childRowCallback=()=>{childElement=createEditingRow(genreData.child);genreRow.appendChild(childElement);};let genreCont=(0,_create.createSelectCont)({id:"genre",data:{options:genreData.genres}},_event_handlers.GenreHandler.bind(childRowCallback));let genreRow=(0,_create.createInputRow)({label:_static2.LABELS[1],content:genreCont});return genreRow;};const createEditingRow=editingData=>{let editingOptions=[];editingData.forEach(type=>{editingOptions.push(type.editingType);});let childElement=null;const childRowCallback=childPos=>{childElement=createWordCountRow(editingData[childPos].child.rates);editingTypeRow.appendChild(childElement);let wordCountCont=childElement.lastElementChild;let wordCountInput=wordCountCont.firstElementChild;wordCountInput.focus();};let editingCont=(0,_create.createSelectCont)({id:"editing",data:{options:editingOptions}},_event_handlers.EditingHandler.bind(childRowCallback));let editingTypeRow=(0,_create.createInputRow)({label:_static2.LABELS[2],content:editingCont});return editingTypeRow;};const createWordCountRow=rates=>{let ranges={min:0,max:0};rates.forEach(rate=>{rate.min<ranges.min&&(ranges.min=rate.min);rate.max>ranges.max&&(ranges.max=rate.max);});const childRowCallback=()=>{let childElement=createDeadlineRow();wordCountRow.appendChild(childElement);let deadlineCont=childElement.lastElementChild;let deadlineInput=deadlineCont.firstElementChild;deadlineInput.focus();};let wordCountCont=(0,_create.createNumberCont)({id:"count",data:{min:ranges.min,max:ranges.max}},_event_handlers.WordCountHandler.bind({callBack:childRowCallback,data:rates}));let wordCountRow=(0,_create.createInputRow)({label:_static2.LABELS[3],content:wordCountCont});return wordCountRow;};const createDeadlineRow=()=>{const childRowCallback=()=>{let childElement=createContactEmailRow();deadlineRow.appendChild(childElement);let emailInputCont=childElement.lastElementChild;let emailInput=emailInputCont.firstElementChild;emailInput.focus();};let deadlineCont=(0,_create.createDeadlineCont)({id:"deadline",data:null},_event_handlers.DeadlineHandler.bind(childRowCallback));let deadlineRow=(0,_create.createInputRow)({label:_static2.LABELS[4],content:deadlineCont});return deadlineRow;};const createContactEmailRow=()=>{const childRowCallback=()=>{let childElement=createSubmitRow();emailRow.appendChild(childElement);let submitInputCont=childElement.firstElementChild;let submitBtn=submitInputCont.firstElementChild;submitBtn.focus();};let emailCont=(0,_create.createEmailCont)({id:"email",data:null},_event_handlers.EmailHandler.bind(childRowCallback));let emailRow=(0,_create.createInputRow)({label:_static2.LABELS[5],content:emailCont});return emailRow;};const createSubmitRow=()=>{const childRowCallback=()=>{let litInput=document.getElementById("literature");let changeEvent=new Event("change");litInput.value="none";litInput.dispatchEvent(changeEvent);};let submitRow=(0,_methods.createElement)({className:"submitRow"});let submitCont=(0,_create.createSubmitCont)(_event_handlers.SubmitHandler.bind(childRowCallback));let submitDisclaimer=(0,_create.createSubmitDisclaimerCont)();submitRow.appendChild(submitCont);submitRow.appendChild(submitDisclaimer);return submitRow;};