"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createSection=void 0;var _methods=require("../../../../global/methods");var _curtain_class=_interopRequireDefault(require("./curtain_class"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const createSection=headerData=>{let cont=(0,_methods.createElement)({className:"sectionCont"});let headerCont=createImageHeader(headerData.header);let dataCont=createContent(headerData.body);cont.appendChild(headerCont);cont.appendChild(dataCont);document.body.appendChild(cont);};exports.createSection=createSection;const createContent=body=>{let cont=(0,_methods.createElement)({className:"bodyCont"});let stageCont=(0,_methods.createElement)({className:"stage"});let text=(0,_methods.createTextElement)({text:body.content,className:"bodyText"});let stageFrontCont=(0,_methods.createElement)({className:"stageFront"});let curtainCont=createCurtain();stageCont.appendChild(text);cont.appendChild(stageCont);cont.appendChild(stageFrontCont);cont.appendChild(curtainCont);return cont;};const createCurtain=()=>{let cont=(0,_methods.createElement)({element:"canvas",className:"curtains"});let ctx=cont.getContext("2d");let row_widths=[2,10,16,2,5,13,2,5,13,2,13,2,10,16,2,5,13,2,5,13,2,13,2,10,16,2,5,13,2,5,13,2,13,2,10,16,2,5,13,2,5];let curr_pos=0;row_widths.forEach(width=>{let rod=new _curtain_class.default(ctx,width,curr_pos);curr_pos+=width;rod.draw();});cont.addEventListener("mouseover",()=>{if(cont.style.animationPlayState!=="running"&&(cont.style.animationName==="curtainClose"||cont.style.animationName==="")){console.log("Opening");cont.style.animationName="curtainOpen";cont.style.animationPlayState="running";}});cont.addEventListener("mouseout",()=>{if(cont.style.animationPlayState!=="running"&&cont.style.animationName==="curtainOpen"){console.log("Closing");cont.style.animationName="curtainClose";cont.style.animationPlayState="running";}});cont.addEventListener("animationend",()=>{cont.style.animationPlayState="paused";});return cont;};const createImageHeader=headerData=>{let cont=(0,_methods.createElement)({className:"centerHeaderCont"});let leftSymbol=(0,_methods.createImageElement)({src:headerData.image.path,alt:headerData.image.alt,className:"musicalSymbol"});let header=(0,_methods.createTextElement)({element:"h3",text:headerData.data});let rightSymbol=(0,_methods.createImageElement)({src:headerData.image.path,alt:headerData.image.alt,className:"musicalSymbol"});cont.appendChild(leftSymbol);cont.appendChild(header);cont.appendChild(rightSymbol);return cont;};